# CapRover Environment Configuration
# This file contains environment variables for CapRover deployment
# 
# ⚠️  CRITICAL: Replace ALL $$cap_* placeholders with actual values in CapRover dashboard
# ⚠️  The application will NOT start if placeholders are not replaced!
# 
# After deployment, run these commands to validate:
#   1. npm run validate:env  - Validates all environment variables
#   2. curl https://YOUR-DOMAIN/api/health - Check database connection

# =============================================================================
# REQUIRED - Application Core Settings
# =============================================================================
NODE_ENV=production

# ⚠️  REPLACE $$cap_appname$$ and $$cap_root_domain$$ with your actual domain
# Example: https://damdayvillage.com OR https://village.yourdomain.com
NEXTAUTH_URL=https://$$cap_appname$$.$$cap_root_domain$$

# ⚠️  Generate a secure secret with: openssl rand -base64 32
# Then replace $$cap_nextauth_secret$$ with the generated value
NEXTAUTH_SECRET=$$cap_nextauth_secret$$

# =============================================================================
# REQUIRED - Database Configuration
# =============================================================================
# ⚠️  REPLACE $$cap_database_url$$ with actual PostgreSQL connection string
# Format: postgresql://user:password@host:port/database
# Example: postgresql://villageuser:securepass@postgres-db:5432/village_db
DATABASE_URL=$$cap_database_url$$

# =============================================================================
# REQUIRED - Build Optimization
# =============================================================================
NEXT_TELEMETRY_DISABLED=1
GENERATE_SOURCEMAP=false
CI=true
CAPROVER_BUILD=true

# =============================================================================
# OPTIONAL - Payment Providers (Remove if not using)
# =============================================================================
STRIPE_SECRET_KEY=$$cap_stripe_secret_key$$
STRIPE_PUBLISHABLE_KEY=$$cap_stripe_publishable_key$$
RAZORPAY_KEY_ID=$$cap_razorpay_key_id$$
RAZORPAY_KEY_SECRET=$$cap_razorpay_key_secret$$

# =============================================================================
# OPTIONAL - OAuth Providers (Remove if not using)
# =============================================================================
GOOGLE_CLIENT_ID=$$cap_google_client_id$$
GOOGLE_CLIENT_SECRET=$$cap_google_client_secret$$
GITHUB_CLIENT_ID=$$cap_github_client_id$$
GITHUB_CLIENT_SECRET=$$cap_github_client_secret$$

# =============================================================================
# OPTIONAL - MQTT/IoT (Remove if not using)
# =============================================================================
MQTT_BROKER_URL=$$cap_mqtt_broker_url$$
MQTT_USERNAME=$$cap_mqtt_username$$
MQTT_PASSWORD=$$cap_mqtt_password$$

# =============================================================================
# OPTIONAL - Email Configuration (Remove if not using)
# =============================================================================
EMAIL_SERVER_HOST=$$cap_email_server_host$$
EMAIL_SERVER_PORT=$$cap_email_server_port$$
EMAIL_SERVER_USER=$$cap_email_server_user$$
EMAIL_SERVER_PASSWORD=$$cap_email_server_password$$
EMAIL_FROM=$$cap_email_from$$

# =============================================================================
# OPTIONAL - Monitoring & Logging (Remove if not using)
# =============================================================================
SENTRY_DSN=$$cap_sentry_dsn$$