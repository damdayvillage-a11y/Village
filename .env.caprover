# CapRover Environment Configuration
# This file is a TEMPLATE - Copy these to CapRover App Configs and REPLACE ALL placeholders!
# 
# ‚ö†Ô∏è  CRITICAL: Replace ALL $$cap_* placeholders with actual values in CapRover dashboard
# ‚ö†Ô∏è  The application will NOT start if placeholders are not replaced!
# 
# üìñ COMPLETE SETUP GUIDE: See CAPROVER_ADMIN_PANEL_FIX.md or CAPROVER_STEP_BY_STEP.md
#
# After deployment:
#   1. Visit: https://your-domain.com/api/admin/init (creates admin user)
#   2. Check: https://your-domain.com/admin-panel/status (verify all green)
#   3. Login: https://your-domain.com/admin-panel/login

# =============================================================================
# REQUIRED - Application Core Settings
# =============================================================================
NODE_ENV=production

# ‚ö†Ô∏è  REPLACE THIS - Your actual domain (NO PLACEHOLDERS!)
# ‚ùå WRONG: https://$$cap_appname$$.$$cap_root_domain$$
# ‚úÖ CORRECT: https://damdayvillage.com or https://village.your-domain.com
NEXTAUTH_URL=https://damdayvillage.com

# ‚ö†Ô∏è  REPLACE THIS - Generate with: openssl rand -base64 32
# ‚ùå WRONG: $$cap_nextauth_secret$$
# ‚úÖ CORRECT: Paste the output from openssl command (minimum 32 characters)
# Example: BAWGc+0joocoP+7LA8EEExs+I9eDh5vQeog4vhyku7g=
NEXTAUTH_SECRET=sZNs1VXSGeDu8Dgs2lkwLPx9jm8676S1kPEA6pzoH8c=

# =============================================================================
# REQUIRED - Database Configuration
# =============================================================================
# ‚ö†Ô∏è  REPLACE THIS - Your actual PostgreSQL connection string
# ‚ùå WRONG: $$cap_database_url$$
# ‚úÖ CORRECT Examples:
#    - CapRover PostgreSQL (srv-captain--postgres is the CORRECT internal service name):
#      postgresql://damdiyal:Damdiyal%40975635@srv-captain--postgres:5432/villagedb
#    - External DB: postgresql://user:password@db-host.com:5432/database_name
# 
# NOTE: 
# 1. The "srv-captain--" prefix is CapRover's internal service naming convention.
#    It is NOT a placeholder and should be kept as-is when using CapRover's PostgreSQL service.
# 2. Special characters in password MUST be URL-encoded: @ becomes %40, # becomes %23, etc.
# 3. See CREDENTIALS.md for the actual working configuration example
DATABASE_URL=postgresql://damdiyal:Damdiyal%40975635@srv-captain--postgres:5432/villagedb

# =============================================================================
# REQUIRED - Build Optimization
# =============================================================================
NEXT_TELEMETRY_DISABLED=1
GENERATE_SOURCEMAP=false
CI=true
CAPROVER_BUILD=true

# =============================================================================
# INITIALIZATION - First Deploy Only
# =============================================================================
# Set these to 'true' ONLY for the first deployment to run migrations and seed data
# After first successful deployment, set to 'false' or remove these variables
# Migrations: Creates database tables and schema
# Seed: Creates admin user and sample data
RUN_MIGRATIONS=true
RUN_SEED=true

# Optional: Skip environment validation on startup (not recommended for production)
# SKIP_ENV_VALIDATION=false

# =============================================================================
# OPTIONAL - Payment Providers (Remove if not using)
# =============================================================================
STRIPE_SECRET_KEY=$$cap_stripe_secret_key$$
STRIPE_PUBLISHABLE_KEY=$$cap_stripe_publishable_key$$
RAZORPAY_KEY_ID=$$cap_razorpay_key_id$$
RAZORPAY_KEY_SECRET=$$cap_razorpay_key_secret$$

# =============================================================================
# OPTIONAL - OAuth Providers (Remove if not using)
# =============================================================================
GOOGLE_CLIENT_ID=$$cap_google_client_id$$
GOOGLE_CLIENT_SECRET=$$cap_google_client_secret$$
GITHUB_CLIENT_ID=$$cap_github_client_id$$
GITHUB_CLIENT_SECRET=$$cap_github_client_secret$$

# =============================================================================
# OPTIONAL - MQTT/IoT (Remove if not using)
# =============================================================================
MQTT_BROKER_URL=$$cap_mqtt_broker_url$$
MQTT_USERNAME=$$cap_mqtt_username$$
MQTT_PASSWORD=$$cap_mqtt_password$$

# =============================================================================
# OPTIONAL - Email Configuration (Remove if not using)
# =============================================================================
EMAIL_SERVER_HOST=$$cap_email_server_host$$
EMAIL_SERVER_PORT=$$cap_email_server_port$$
EMAIL_SERVER_USER=$$cap_email_server_user$$
EMAIL_SERVER_PASSWORD=$$cap_email_server_password$$
EMAIL_FROM=$$cap_email_from$$

# =============================================================================
# OPTIONAL - Monitoring & Logging (Remove if not using)
# =============================================================================
SENTRY_DSN=$$cap_sentry_dsn$$